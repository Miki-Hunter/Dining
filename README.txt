2022-5-24
部分场景跳转优化，整理上传至github

2022-5-23
后台：
1）首页点击后进入"今日"类的顺序改动

前台：
1）修改写错的菜单分类
2）对原css文件进行修改，使得菜单页面局中一行显示4个菜品，图片圆形局中

2022-5-19
后台：
1）后台显示今日新增的用户和VIP，点击查看具体
2）订单、用户分页展示

前台：
1）用户自己的历史订单分页展示
2)VIP结算时为8.8折
3)累计消费到一定金额就自动升级为VIP(此前只后台可改，因为后台是员工操作，可连带充值一起)
4)优化页面跳转

2022-5-18
后台：
1）后台首页显示今日订单、今日收益，可以点击进入查看订单

前台：
1）添加购物车的结算、添加减少、一键清除等功能
2）查看“历史订单”(未完善)
3）购买使用余额结算，余额不足不进行操作


2022-5-17
后台：
1）新增菜品可编辑自定义标签
前台：
1）菜单界面优化，图片显示为统一大小的圆图
2）购物车功能加入，可增加减少


2022-5-16
后台：
1）完善员工、店铺、菜品类别、菜品名称、用户的名称搜索(用name__contains方法模糊搜索)

前台：
1）开始制作“菜单”界面，分为(早餐、午餐、晚餐、甜点、饮料、沙拉) + 特色菜

2022-5-14
后台：
1）数据库余额的修改，用字符串存储以便可能的小数运算，且保留小数点后两位

前台：
1）用户资料在线编辑
2）首页可展示用户圆形头像,点击可以展开个人卡片
3）改写注册机制，验证邮箱格式（手机号暂时不验证）；地址、头像可以不第一时间编辑
4）注册时其他信息无误后再最后写入图片，防止无效存储，且修改头像后原图删除


2022-5-13
前台：
1）前台登录、注册功能完善
2）完善操作提示框，改为首页展示。以“alert-danger”、“alert-success”两类区分

2022-5-11
后台：
1）整理用户管理部分，区分会员与普通用户
2）更新后台跳转关系
3）完善“特色菜”的列表检索，与 (早餐、午餐、晚餐、甜点、饮料、沙拉) 区别


2022-5-10
后台：
1）完善各个页面跳转关系
2）修改数据库格式，会员与普通用户的区分
3）统一了每个店铺固定的菜品类型：早餐、午餐、晚餐、甜点、饮料、沙拉、特色菜。
4)对特色菜进行管理，特色菜是一个选项，在(早餐、午餐、晚餐、甜点、饮料、沙拉)中的菜可以设置为“特色菜”作为本店特色菜

前台：
1）添加了登录与注册(未完善)


"""
一些说明：
2022-5-1开始
原学习自B站的一个Django教程，后原视频已删除，只学习到后台添加和修改用户，学习中断后开始自我建设。
前端是用的Bootstrap,建立一个base.html后，在此基础上添加功能。以页面继承 {% block %}完成编写。
后台模板：https://github.com/ColorlibHQ/AdminLTE
前台模板：http://www.bootstrapmb.com/item/12262
数据库为mysql，前后端不分离
验证码为captcha，表单引入
密码为md5格式存储，盐值取999999以内的伪随机数，哈希值和盐都存下，登录时掺盐验证。

预期效果：
后台：
1、订单管理要划分每日的订单
2、添加电话（邮箱）重置密码，（考虑添加邮箱验证）
3、账号管理，区分会员、普通用户
4、session添加记录一些东西，如当前用户数量，然后每次切换界面读取一次，用差值显示“有n名新成员加入”；同理，订单数也是一样
5、今日订单、今日收入、用户注册、今日会员，这几个“按今日日期”查询并且显示，点击后列表展示。


前台：
1、菜单界面，每一个菜品下方添加一个“加入购物车”选项，并且要有“- +”表示数量切换，也要可以输入。然后可以submit进入购物车。
2、购物车功能（新的HTML），订单的菜品名称，数量，金额，然后计算总金额，确认结算。（积分结算）
3、注册与登录。导航栏在未登录时候显示，登录后显示昵称和积分数量。
4、充值功能，应用内以积分结算，进行判断：当前积分够不够？是否充值，或者修改订单。
5、会员8.8折，普通用户添加“是否升级会员”选项，结算的时候显示“原价/会员价”。

使用方法：
1、安装各种库
2、新建数据库osdb(自由命名)
3、(整理新建数据表)
python manage.py makemigrations

python manage.py migrate
4、运行、测试
"""

其中一条创建指令
"""
CREATE TABLE `orders` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '订单表id',
   `name` varchar(50) DEFAULT NULL COMMENT '菜名',
  `shop_id` int(10) unsigned DEFAULT NULL COMMENT '店铺id号',
  `member_id` int(10) unsigned DEFAULT NULL COMMENT '会员id',
  `product_id` int(10) unsigned DEFAULT NULL COMMENT '菜品id',
  `num` int(10) unsigned DEFAULT NULL COMMENT '会员id',
  `price` double(8,2) DEFAULT NULL COMMENT '单价',
  `status` tinyint(3) unsigned DEFAULT NULL COMMENT '订单状态:1过行中/2无效/3已完成',
  `payment_status` tinyint(3) unsigned DEFAULT NULL COMMENT '支付状态:1未支付/2已支付/3已退款',
  `create_at` datetime DEFAULT NULL COMMENT '添加时间',
  `update_at` datetime DEFAULT NULL COMMENT '修改时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

"""



